{
	"version": 2,
	"stacks": [
		{
			"id": "branch-creation-1kda6g",
			"status": "planned",
			"stages": [
				{
					"id": "stage-1",
					"title": "Implementation session schema and state transitions",
					"details": "Add typed implementation session persistence and atomic stack/stage status transition helpers so start-flow state can be recorded and resumed safely.",
					"status": "not-started"
				},
				{
					"id": "stage-2",
					"title": "Branch naming and default base branch resolution",
					"details": "Implement deterministic git-safe naming using feature/stage metadata and resolve the repository default base branch with reliable fallback behavior.",
					"status": "not-started"
				},
				{
					"id": "stage-3",
					"title": "Idempotent worktree orchestration service",
					"details": "Build server-side git service that creates or reuses stage 1 branch/worktree and recovers partial-existing resource states without destructive actions.",
					"status": "not-started"
				},
				{
					"id": "stage-4",
					"title": "Directory-aware implementation agent bootstrap",
					"details": "Extend OpenCode session operations to run in the stage 1 worktree and auto-seed a stage-focused implementation prompt with reuse semantics.",
					"status": "not-started"
				},
				{
					"id": "stage-5",
					"title": "Start endpoint orchestration contract",
					"details": "Add POST start API that validates prerequisites, orchestrates worktree/session setup, updates statuses, and returns explicit created-versus-reused result flags.",
					"status": "not-started"
				},
				{
					"id": "stage-6",
					"title": "Feature detail UI start action integration",
					"details": "Add UI-only Start feature trigger with disabled/loading/success/error states and data refresh to reflect started and in-progress stage state.",
					"status": "not-started"
				},
				{
					"id": "stage-7",
					"title": "Validation matrix and quality gate",
					"details": "Verify fresh, resume, recovery, and failure scenarios, then complete typecheck and build gates before marking the feature ready.",
					"status": "not-started"
				}
			],
			"name": "branch creation",
			"notes": "when a feature has been created and the stages set up, I want to instruct the agent to “start” a feature at which point a new git worktree will be created and a new agent session started to immediately implement stage 1",
			"type": "feature"
		}
	],
	"planningSessions": [
		{
			"id": "session-pnd3eo32",
			"stackId": "branch-creation-1kda6g",
			"createdAt": "2026-02-19T19:25:54.639Z",
			"updatedAt": "2026-02-19T20:58:38.784Z",
			"opencodeSessionId": "ses_388a24fa9ffeCixBNFRS9ftByE",
			"seededAt": "2026-02-19T19:26:16.378Z",
			"savedPlanPath": ".stacked/plans/branch-creation-1kda6g.md",
			"savedStageConfigPath": ".stacked/plans/branch-creation-1kda6g.stages.json",
			"savedAt": "2026-02-19T20:58:38.784Z"
		}
	]
}
